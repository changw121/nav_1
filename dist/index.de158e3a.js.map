{"mappings":"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","sources":["src/main.js"],"sourcesContent":["const $siteList = $('.siteList')\r\nconst $lastLi = $siteList.find('li.last')\r\nconst x = localStorage.getItem('x')\r\nconst xObject = JSON.parse(x)  \r\n//第一次xObject是空的，所以用||当xObject是空时，取后者的值，当xObject是非空时，取前者的值。\r\nconst hashmap = xObject || [\r\n    {logo: 'A', url: 'https://www.acfun.cn'},\r\n    {logo: 'B', url: 'https://www.bilibili.com'},\r\n]\r\n\r\n//设置链接显示方式\r\nconst simplifyUrl = (url)=>{\r\n    return url.replace('https://', '')\r\n              .replace('http://', '')\r\n              .replace('www.', '')\r\n              .replace(/\\/.*/, '') //删除/开头的内容\r\n}\r\nconst render = ()=>{\r\n    $siteList.find(\"li:not(.last)\").remove() //重新渲染li的时候需要将之前的都删掉\r\n    hashmap.forEach((node, index)=>{\r\n        const $li = $(`<li>\r\n            <div class=\"site\">\r\n                <div class=\"logo\">${node.logo}</div>\r\n                <div class=\"link\">${simplifyUrl(node.url)}</div>\r\n                <div class='close'>\r\n                    <svg class=\"icon\">\r\n                        <use xlink:href=\"#icon-close\"></use>\r\n                    </svg>\r\n                </div>\r\n            </div>\r\n        </li>`).insertBefore($lastLi)\r\n        //用js代替a标签的点击跳转首页\r\n        $li.on('click', ()=>{\r\n            window.open(node.url)\r\n        })\r\n        $li.on('click', '.close',(e)=>{\r\n            e.stopPropagation()  //阻止关闭按钮跳转到首页-阻止冒泡\r\n            hashmap.splice(index, 1)  //从hashmap中找到close的那个并删除\r\n            render()  //删掉后重新渲染hashmap到页面\r\n        })\r\n    })\r\n}\r\nrender()\r\n\r\n$('.addButton')\r\n  .on('click',()=>{\r\n    let url = window.prompt('请问你要添加的网址是啥？')\r\n    if(url.indexOf('http')!==0){\r\n        url = 'https://' + url\r\n    }\r\n    hashmap.push(\r\n        {\r\n            logo: simplifyUrl(url)[0],\r\n            url: url\r\n        }\r\n    )\r\n    render()\r\n});\r\n\r\n//当页面关闭的时候存储hashMap\r\nwindow.onbeforeunload = ()=>{\r\n    // console.log('页面要关闭了')\r\n    const string = JSON.stringify(hashmap)  //将对象变成字符串，由于localStorage只能存字符串\r\n    localStorage.setItem('x', string)  //在本地设置一个值为x的地方存string\r\n}\r\n\r\n// 键盘事件\r\n$(document).on('keypress', (e)=>{\r\n    // const key = e.key\r\n    const {key} = e  //上面的简写形式\r\n    for(let i=0; i<hashmap.length; i++){\r\n        if(hashmap[i].logo.toLowerCase() === key){\r\n            window.open(hashmap[i].url)\r\n        }\r\n    }\r\n})"],"names":[],"version":3,"file":"index.de158e3a.js.map","sourceRoot":"/__parcel_source_root/"}